<div class="card">
   <div class="card-header">
      <h5 class="card-title">Reports</h5>
   </div>
   <div class="card-body">
      <div class="col-md-12 table_outer">
         <div class="row">
            <div class="form-group col-3">
               <label>Degree<span class="mandatory">*</span></label>
               <select class="form-control" (change)="changeDegree($event)">
               <option value="" selected disabled>Please select a degree</option>
               <ng-container *ngFor="let degree of degreeList">
                  <option>{{degree.degree_name}}</option>
               </ng-container>
               </select>
               <!-- <div class="err-lbl" *ngIf="alSubmitted || isInvalidAlField('title')">
                  <span class="field-msg error-msg" *ngIf="reportForm.controls.title.errors?.required">
                  <i class="fa fa-times-circle"></i>&nbsp;Invalid
                  </span>
               </div> -->
            </div>
            <div class="form-group col-3" *ngIf="showStudentType">
               <label>Select Student Type<span class="mandatory">*</span></label>
               <select class="form-control" (change)="changeStudentType($event)">
               <option value="" selected disabled>Please select a student type</option>
                  <option value="B1">B1</option>
                  <option value="B2">B2</option>
               </select>
            </div>
            <div class="form-group col-3" *ngIf="showSteam">
               <label>Select Steam<span class="mandatory">*</span></label>
               <select class="form-control" (change)="changeSteam($event)">
               <option value="" selected disabled>Please select a steam</option>
                  <option value="ALL">All</option>
                  <option value="NVQ">NVQ</option>
                  <option value="AL">AL</option>
               </select>
            </div>
            <!-- <div class="form-group col-3" *ngIf="showGenerate">
               <button class="btn btn-success" (click)="createReport()"><i class="fas fa-user-plus"></i>&nbsp;&nbsp;Create Report</button>&nbsp;
            </div> -->
            <div class="d-flex flex-row-reverse" *ngIf="showGenerate">
               <button class="btn btn-warning" (click)="cancelCreateReport()"><i class="fas fa-reply"></i>&nbsp;&nbsp;Cancel</button>&nbsp;
               <button class="btn btn-success" (click)="createReport()"><i class="fas fa-plus"></i>&nbsp;&nbsp;Create Report</button>&nbsp;
            </div>
            <div class="fixed-download excel" *ngIf="reportsList.length > 0">
               <button class="btn btn-success" (click)="downloadExcelReport()"><i class="fas fa-file-excel"></i>&nbsp;&nbsp;Download EXCEL</button>&nbsp;
            </div>
            <div class="fixed-download pdf" *ngIf="reportsList.length > 0">
               <button class="btn btn-warning" (click)="downloadPdfReport()"><i class="fas fa-file-pdf"></i>&nbsp;&nbsp;Download PDF</button>&nbsp;
            </div>
         </div>
      </div>
      <div class="col-md-12 table_outer mb-15" *ngIf="reportsList.length > 0">
         <div class="row">
            <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-bordered row-border hover" id="tblReportData">
            <thead>
               <tr>
                  <th scope="col">Identity No</th>
                  <th scope="col">Application No</th>
                  <th scope="col">Student Type</th>
                  <th scope="col">Batch Type</th>
                  <th scope="col">Degree Code</th>
                  <th scope="col">Title</th>
                  <th scope="col">Initials</th>
                  <th scope="col">Surename</th>
                  <th scope="col">Gender</th>
                  <th scope="col">Telephone</th>
                  <th scope="col">Address 1</th>
                  <th scope="col">Address 2</th>
                  <th scope="col">Address 3</th>
                  <th scope="col">District</th>
                  <th scope="col">Student Marks</th>
                  <th scope="col">Preferance Type</th>
               </tr>
            </thead>
            <tbody>
               <tr *ngFor="let report of reportsList">
                  <td>{{report.std_identity_no}}</td>
                  <td>{{report.std_application_no}}</td>
                  <td>{{report.std_student_type}}</td>
                  <td>{{report.std_batch_type}}</td>
                  <td>{{report.deg_degree_code}}</td>
                  <td>{{report.std_title}}</td>
                  <td>{{report.std_initials}}</td>
                  <td>{{report.std_surename}}</td>
                  <td>{{report.std_gender}}</td>
                  <td>{{report.std_telephone}}</td>
                  <td>{{report.std_address_1}}</td>
                  <td>{{report.std_address_2}}</td>
                  <td>{{report.std_address_3}}</td>
                  <td>{{report.std_district}}</td>
                  <td>{{report.student_marks}}</td>
                  <td>{{report.preferance_type}}</td>
               </tr>
            </tbody>
            </table>
         </div>
      </div>
   </div>
</div>
<ng-template #customLoadingTemplate>
   <div class="custom-class">
      <h3>
         Please Wait...
      </h3>
   </div>
</ng-template>
<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }" [template]="customLoadingTemplate"></ngx-loading>