<div class="card">
   <div class="card-header">
      <h5 class="card-title">Applicants</h5>
   </div>
   <div class="card-body">
      <ul class="nav nav-tabs" id="applicantTab" role="tablist">
         <li class="nav-item" (click)="ngOnDestroy()">
            <a class="nav-link active" id="nvq-tab" data-toggle="tab" href="#nvq" role="tab" aria-controls="nvq" aria-selected="true">NVQ Steam</a>
         </li>
         <li class="nav-item" (click)="getAlAplicants();">
            <a class="nav-link" id="al-tab" data-toggle="tab" href="#al" role="tab" aria-controls="al" aria-selected="false">A/L Steam</a>
         </li>
      </ul>
      <div class="tab-content" id="applicantTabContent">
         <div class="tab-pane fade show active" id="nvq" role="tabpanel" aria-labelledby="nvq-tab">
            <div class="d-flex flex-row-start">
               <button class="btn btn-info" (click)="showNvqApplicantCreateForm = true; onNvqReset()"><i class="fas fa-user-plus"></i>&nbsp;&nbsp;Create Applicant</button>&nbsp;
               <button class="btn btn-warning" (click)="showNvqBulkUpload = true;"><i class="fas fa-user-plus"></i>&nbsp;&nbsp;Create Bulk Applicant</button>
            </div>
            <div class="createForm" *ngIf="showNvqBulkUpload">
               <div class="card secondary-card">
                  <div class="card-header d-flex">
                     <h6 class="card-title">Bulk Applicant</h6>
                  </div>
                  <div class="card-body">
                     <form [formGroup]="uploadNvqBulkForm" (ngSubmit)="onBulkNvqSubmit()">
                        <div class="d-inline-flex align-items-center">
                           <div class="d-inline-flex flex-row-start">
                              <input type="file" class="custom-file-input" name="nvq_profile" (change)="onNvqFileSelect($event)" />
                           </div>
                           <div class="d-inline-flex flex-row-reverse">
                              <button type="submit" class="btn btn-success"><i class="fa fa-save"></i>&nbsp;Upload</button>&nbsp;
                              <button class="btn btn-warning" (click)="showNvqBulkUpload = false"><i class="fa fa-reply"></i>&nbsp; Cancel</button>
                           </div>
                        </div>
                     </form>
                  </div>
               </div>
            </div>
            <div class="createForm" *ngIf="showNvqApplicantCreateForm">
               <div class="card secondary-card">
                  <div class="card-header d-flex">
                     <h6 class="card-title">Create Applicant</h6>
                  </div>
                  <div class="card-body">
                     <form [formGroup]="nvqApplicantCreateForm" (ngSubmit)="createNvqApplicant()">
                     <div class="row">
                        <div class="form-group col-3">
                           <label>Student Type</label>
                           <input type="text" class="form-control" disabled value="NVQ">
                        </div>
                        <div class="form-group col-3">
                           <label>Application No<span class="mandatory">*</span></label>
                           <input type="text" class="form-control form-control-sm ng-untouched ng-pristine ng-valid" formControlName="application_no"
                              [ngClass]="nvqSubmitted || isInvalidNvqField('application_no') ? 'error-field' : ''">
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('application_no')">
                              <span class="field-msg error-msg" *ngIf="nvqApplicantCreateForm.controls.application_no.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Identity No<span class="mandatory">*</span></label>
                           <input type="text" class="form-control form-control-sm ng-untouched ng-pristine ng-valid" [ngClass]="nvqSubmitted || isInvalidNvqField('identity_no') ? 'error-field' : ''" formControlName="identity_no">
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('identity_no')">
                              <span class="field-msg error-msg" *ngIf="nvqApplicantCreateForm.controls.identity_no.errors?.required || nvqApplicantCreateForm.controls.identity_no.errors?.pattern">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Initials<span class="mandatory">*</span></label>
                           <input type="text" class="form-control form-control-sm ng-untouched ng-pristine ng-valid" formControlName="initials"
                              [ngClass]="nvqSubmitted || isInvalidNvqField('initials') ? 'error-field' : ''">
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('initials')">
                              <span class="field-msg error-msg" *ngIf="nvqApplicantCreateForm.controls.initials.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Surename<span class="mandatory">*</span></label>
                           <input type="text" class="form-control form-control-sm ng-untouched ng-pristine ng-valid" formControlName="surename"
                              [ngClass]="nvqSubmitted || isInvalidNvqField('surename') ? 'error-field' : ''">
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('surename')">
                              <span class="field-msg error-msg" *ngIf="nvqApplicantCreateForm.controls.surename.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Title<span class="mandatory">*</span></label>
                           <select class="form-control" (change)="changeNvqTitle($event)">
                           <option value="" selected disabled>Please Select</option>
                           <option value="Mr">Mr</option>
                           <option value="Ms">Ms</option>
                           <option value="Mrs">Mrs</option>
                           <option value="Rev">Rev</option>
                           <option value="Ven">Ven</option>
                           </select>
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('title')">
                              <span class="field-msg error-msg" *ngIf="nvqApplicantCreateForm.controls.title.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Gender<span class="mandatory">*</span></label>
                           <select class="form-control" (change)="changeNvqGender($event)">
                           <option value="" selected disabled>Please Select</option>
                           <option value="M">Male</option>
                           <option value="F">Female</option>
                           </select>
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('gender')">
                              <span class="field-msg error-msg" *ngIf="nvqApplicantCreateForm.controls.gender.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Ethnicity</label>
                           <select class="form-control" (change)="changeNvqEthnicity($event)">
                              <option value="" selected disabled>Please Select</option>
                           <option value="Sinhala" >Sinhala</option>
                           <option value="Tamil" >Tamil</option>
                           <option value="Hindu" >Hindu</option>
                           <option value="Muslim" >Muslim</option>
                           <option value="Other" >Other</option>
                           </select>
                        </div>
                        <div class="form-group col-3">
                           <label>Address 1<span class="mandatory">*</span></label>
                           <input type="text" class="form-control form-control-sm ng-untouched ng-pristine ng-valid" formControlName="address_1"
                              [ngClass]="nvqSubmitted || isInvalidNvqField('address_1') ? 'error-field' : ''">
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('address_1')">
                              <span class="field-msg error-msg" *ngIf="nvqApplicantCreateForm.controls.address_1.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Address 2</label>
                           <input type="text" class="form-control" formControlName="address_2">
                        </div>
                        <div class="form-group col-3">
                           <label>City<span class="mandatory">*</span></label>
                           <input type="text" class="form-control form-control-sm ng-untouched ng-pristine ng-valid" formControlName="city"
                              [ngClass]="nvqSubmitted || isInvalidNvqField('city') ? 'error-field' : ''">
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('city')">
                              <span class="field-msg error-msg" *ngIf="nvqApplicantCreateForm.controls.city.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>District<span class="mandatory">*</span></label>
                           <select class="form-control" (change)="changeNvqDistrict($event)">
                              <option value="" disabled selected>Please Select</option>
                           <option value="Anuradhapura">Anuradhapura</option>
                           <option value="Ampara">Ampara</option>
                           <option value="Badulla">Badulla</option>
                           <option value="Batticaloa">Batticaloa</option>
                           <option value="Colombo">Colombo</option>
                           <option value="Galle">Galle</option>
                           <option value="Gampaha">Gampaha</option>
                           <option value="Hambantota">Hambantota</option>
                           <option value="Jaffna">Jaffna</option>
                           <option value="Kilinochchi">Kilinochchi</option>
                           <option value="Kurunegala">Kurunegala</option>
                           <option value="Kalutara">Kalutara</option>
                           <option value="Kandy">Kandy</option>
                           <option value="Kegalle">Kegalle</option>
                           <option value="Mannar">Mannar</option>
                           <option value="Mullaitivu">Mullaitivu</option>
                           <option value="Matale">Matale</option>
                           <option value="Monaragala">Monaragala</option>
                           <option value="Matara">Matara</option>
                           <option value="Nuwara Eliya">Nuwara Eliya</option>
                           <option value="Polonnaruwa">Polonnaruwa</option>
                           <option value="Puttalam">Puttalam</option>
                           <option value="Ratnapura">Ratnapura</option>
                           <option value="Trincomalee">Trincomalee</option>
                           <option value="Vavuniya">Vavuniya</option>
                           </select>
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('district')">
                              <span class="field-msg error-msg" *ngIf="nvqApplicantCreateForm.controls.district.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Telephone</label>
                           <input type="text" class="form-control form-control-sm ng-untouched ng-pristine ng-valid" [ngClass]="nvqSubmitted || isInvalidNvqField('telephone') ? 'error-field' : ''" formControlName="telephone">
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('telephone')">
                              <span class="field-msg error-msg" *ngIf="nvqApplicantCreateForm.controls.telephone.errors?.required || nvqApplicantCreateForm.controls.telephone.errors?.minlength || nvqApplicantCreateForm.controls.telephone.errors?.maxlength">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Mobile</label>
                           <input type="text" class="form-control form-control-sm ng-untouched ng-pristine ng-valid" [ngClass]="nvqSubmitted || isInvalidNvqField('mobile') ? 'error-field' : ''" formControlName="mobile">
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('mobile')">
                              <span class="field-msg error-msg" *ngIf="nvqApplicantCreateForm.controls.mobile.errors?.required || nvqApplicantCreateForm.controls.mobile.errors?.pattern || nvqApplicantCreateForm.controls.mobile.errors?.minlength || nvqApplicantCreateForm.controls.mobile.errors?.maxlength">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>E-mail</label>
                           <input type="email" class="form-control form-control-sm ng-untouched ng-pristine ng-valid" [ngClass]="nvqSubmitted || isInvalidNvqField('email') ? 'error-field' : ''" formControlName="email">
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('email')">
                              <span class="field-msg error-msg" *ngIf="nvqApplicantCreateForm.controls.email.errors?.required || nvqApplicantCreateForm.controls.email.errors?.pattern">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Preference 1<span class="mandatory">*</span></label>
                           <select title="hint - Filed" class="form-control" (change)="changeNvqPreferenceOne($event)">
                              <option value="" disabled selected>Please Select</option>
                              <option value="BST">BST</option>
                              <option value="CTRM">CTRM</option>
                              <option value="MAN">MAN</option>
                              <option value="MEC">MEC</option>
                              <option value="FPT">FPT</option>
                              <option value="BED">BED</option>
                              <option value="IM">IM</option>
                              <option value="SOF">SOF</option>
                              <option value="NET">NET</option>
                              <option value="MMW">MMW</option>
                              <option value="ELT">ELT</option>
                              <option value="FTPT">FTPT</option>
                              <option value="MAPT">MAPT</option>
                              <option value="QS">QS</option>
                              <option value="HM">HM</option>
                              </select>
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('preference_1')">
                              <span class="field-msg error-msg" *ngIf="nvqApplicantCreateForm.controls.preference_1.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Preference 2</label>
                           <select title="hint - Filed" class="form-control" (change)="changeNvqPreferenceTwo($event)">
                              <option value="" disabled selected>Please Select</option>
                              <option value="BST">BST</option>
                              <option value="CTRM">CTRM</option>
                              <option value="MAN">MAN</option>
                              <option value="MEC">MEC</option>
                              <option value="FPT">FPT</option>
                              <option value="BED">BED</option>
                              <option value="IM">IM</option>
                              <option value="SOF">SOF</option>
                              <option value="NET">NET</option>
                              <option value="MMW">MMW</option>
                              <option value="ELT">ELT</option>
                              <option value="FTPT">FTPT</option>
                              <option value="MAPT">MAPT</option>
                              <option value="QS">QS</option>
                              <option value="HM">HM</option>
                              </select>
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('preference_2')">
                              <span class="field-msg error-msg" *ngIf="nvqApplicantCreateForm.controls.preference_2.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                              </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Preference 3</label>
                           <select title="hint - Filed" class="form-control" (change)="changeNvqPreferenceThree($event)">
                              <option value="" disabled selected>Please Select</option>
                              <option value="BST">BST</option>
                              <option value="CTRM">CTRM</option>
                              <option value="MAN">MAN</option>
                              <option value="MEC">MEC</option>
                              <option value="FPT">FPT</option>
                              <option value="BED">BED</option>
                              <option value="IM">IM</option>
                              <option value="SOF">SOF</option>
                              <option value="NET">NET</option>
                              <option value="MMW">MMW</option>
                              <option value="ELT">ELT</option>
                              <option value="FTPT">FTPT</option>
                              <option value="MAPT">MAPT</option>
                              <option value="QS">QS</option>
                              <option value="HM">HM</option>
                              </select>
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('preference_3')">
                              <span class="field-msg error-msg" *ngIf="nvqApplicantCreateForm.controls.preference_3.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                              </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Index No<span class="mandatory">*</span></label>
                           <input type="text" class="uppercase form-control form-control-sm ng-untouched ng-pristine ng-valid" formControlName="index_no"
                              [ngClass]="nvqSubmitted || isInvalidNvqField('index_no') ? 'error-field' : ''">
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('index_no')">
                              <span class="field-msg error-msg" *ngIf="nvqApplicantCreateForm.controls.index_no.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Diploma<span class="mandatory">*</span></label>
                           <!-- <select class="form-control" (change)="changeNvqDiploma($event)">
                           <option ngValue="" disabled selected>Please Select</option>
                           <option ngValue="HNDE">Sri Lanka Institute of Advanced Technology Education (SLIATE)</option>
                           <option ngValue="HNDIT">Sri Lanka Institute of Advanced Technology Education (SLIATE)</option>
                           <option ngValue="NDES">Institute of Engineering Technology (IET)</option>
                           <option ngValue="NDET">National Institute of Technical Education (NITESL)</option>
                           <option ngValue="NDICT">NAITA/VTA/DTET/NYSC</option>
                           <option ngValue="NDNLE">National Institute of Technical Education (NITESL)</option>
                           <option ngValue="NDQS">DTET/VTA/NITESL/University of Vocational Technology</option>
                           <option ngValue="NDT">Institute of Technology,University of Moratuwa(ITUM)</option>
                           <option ngValue="NDTT(ELT)">National Institute of Technical Education (NITESL)</option>
                           <option ngValue="NDVPT">National Institute of Technical Education (NITESL)</option>
                           </select> -->
                           <input type="text" class="uppercase form-control form-control-sm ng-untouched ng-pristine ng-valid" formControlName="diploma"
                              [ngClass]="nvqSubmitted || isInvalidNvqField('diploma') ? 'error-field' : ''">
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('diploma')">
                              <span class="field-msg error-msg" *ngIf="nvqApplicantCreateForm.controls.diploma.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Remarks</label>
                           <input type="text" class="form-control" formControlName="remarks">
                        </div>
                        <div class="form-group col-3">
                           <label>Permanent Address</label>
                           <input type="text" class="form-control" formControlName="permenent_address">
                        </div>
                        <div class="form-group col-3">
                           <label>Marital Status<span class="mandatory">*</span></label>
                           <select class="form-control" (change)="changeNvqMarital($event)">
                           <option value="" selected disabled>Please Select</option>
                           <option value="S">Un-Married</option>
                           <option value="M">Married</option>
                           </select>
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('marital_status')">
                              <span class="field-msg error-msg" *ngIf="nvqApplicantCreateForm.controls.marital_status.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Batch Type<span class="mandatory">*</span></label>
                           <select class="form-control" (change)="changeNvqBatchType($event)">
                           <option value="" selected disabled>Please Select</option>
                           <option value="B1">B1</option>
                           <option value="B2">B2</option>
                           </select>
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('batch_type')">
                              <span class="field-msg error-msg" *ngIf="nvqApplicantCreateForm.controls.batch_type.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-12 d-flex flex-row-reverse">
                           <button type="submit" class="btn btn-success"><i class="fa fa-save"></i>&nbsp; Save Applicant</button>&nbsp;
                           <button class="btn btn-warning" (click)="showNvqApplicantCreateForm = false"><i class="fa fa-reply"></i>&nbsp; Cancel</button>
                        </div>
                     </div>
                     </form>
                  </div>
               </div>
            </div>
            <div class="col-md-12 table_outer">
               <div class="row">
                  <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-bordered row-border hover" id="tblNvqApplicantData">
                  <thead>
                     <tr>
                        <th scope="col">Application No</th>
                        <th scope="col">Student Type</th>
                        <th scope="col">Identity Card No</th>
                        <th scope="col">Index No</th>
                        <th scope="col">Title</th>
                        <th scope="col">Initials</th>
                        <th scope="col">Surename</th>
                        <th scope="col">Status</th>
                        <th scope="col">Gender</th>
                        <th scope="col">Ethnicity</th>
                        <th scope="col">Address Line 1</th>
                        <th scope="col">Address Line 2</th>
                        <th scope="col">City</th>
                        <th scope="col">District</th>
                        <th scope="col">Telephone</th>
                        <th scope="col">Mobile No</th>
                        <th scope="col">Email</th>
                        <th scope="col">Diploma</th>
                        <th scope="col">Preference 1</th>
                        <th scope="col">Preference 2</th>
                        <th scope="col">Preference 3</th>
                        <th scope="col">Remark</th>
                        <th scope="col">Permenent Address</th>
                        <th scope="col" style="width: 80px;"></th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr *ngFor="let applicant of nvqAplicantFilterList">
                        <td>{{applicant.nvq_details.application_no}}</td>
                        <td>{{applicant.student_type}}</td>
                        <td>{{applicant.identity_no}}</td>
                        <td>{{applicant.nvq_details.index_no}}</td>
                        <td>{{applicant.title}}</td>
                        <td>{{applicant.initials}}</td>
                        <td>{{applicant.surename}}</td>
                        <td *ngIf="applicant.status === true">Active</td>
                        <td *ngIf="applicant.status === false">Deactive</td>
                        <td>{{applicant.gender}}</td>
                        <td>{{applicant.ethnicity}}</td>
                        <td>{{applicant.address_1}}</td>
                        <td>{{applicant.address_2}}</td>
                        <td>{{applicant.city}}</td>
                        <td>{{applicant.district}}</td>
                        <td>{{applicant.telephone}}</td>
                        <td>{{applicant.mobile}}</td>
                        <td>{{applicant.email}}</td>
                        <td>{{applicant.nvq_details.diploma}}</td>
                        <td>{{applicant.preference_1}}</td>
                        <td>{{applicant.preference_2}}</td>
                        <td>{{applicant.preference_3}}</td>
                        <td>{{applicant.nvq_details.remarks}}</td>
                        <td>{{applicant.nvq_details.permenent_address}}</td>
                        <td class="lastColumn">
                           <!-- <button class="btn btn-warning tableEdit" (click)="editNvqApplicant(applicant)" data-toggle="modal" data-target="#nvqApplicantEditModal"><i class="far fa-edit"></i></button> -->
                           <!-- <button class="btn btn-warning tableEdit" (click)="editNvqApplicant(applicant)"><i class="far fa-edit"></i></button> -->
                        </td>
                     </tr>
                  </tbody>
                  </table>
               </div>
            </div>
         </div>
         <div class="tab-pane fade" id="al" role="tabpanel" aria-labelledby="al-tab">
            <div class="d-flex flex-row-start">
               <button class="btn btn-info" (click)="showAlApplicantCreateForm = true; onAlReset()"><i class="fas fa-user-plus"></i>&nbsp;&nbsp;Create Applicant</button>&nbsp;
               <button class="btn btn-warning" (click)="showAlBulkUpload = true;"><i class="fas fa-user-plus"></i>&nbsp;&nbsp;Create Bulk Applicant</button>
            </div>
            <div class="createForm" *ngIf="showAlBulkUpload">
               <div class="card secondary-card">
                  <div class="card-header d-flex">
                     <h6 class="card-title">Bulk Applicant</h6>
                  </div>
                  <div class="card-body">
                     <form [formGroup]="uploadAlBulkForm" (ngSubmit)="onBulkAlSubmit()">
                        <div class="d-inline-flex align-items-center">
                           <div class="d-inline-flex flex-row-start">
                              <input type="file" class="custom-file-input" name="al_profile" (change)="onAlFileSelect($event)" />
                           </div>
                           <div class="d-inline-flex flex-row-reverse">
                              <button type="submit" class="btn btn-success"><i class="fa fa-save"></i>&nbsp;Upload</button>&nbsp;
                              <button class="btn btn-warning" (click)="showAlBulkUpload = false"><i class="fa fa-reply"></i>&nbsp; Cancel</button>
                           </div>
                        </div>
                     </form>
                  </div>
               </div>
            </div>
            <div class="createForm" *ngIf="showAlApplicantCreateForm">
               <div class="card secondary-card">
                  <div class="card-header d-flex">
                     <h6 class="card-title">Create Applicant</h6>
                  </div>
                  <div class="card-body">
                     <form [formGroup]="alApplicantCreateForm" (ngSubmit)="createAlApplicant()">
                     <div class="row">
                        <div class="form-group col-3">
                           <label>Student Type</label>
                           <!-- <select class="form-control form-control-sm ng-untouched ng-pristine ng-valid" (change)="changeAlType($event)" formControlName="student_type" 
                           [ngClass]="alSubmitted || isInvalidAlField('student_type') ? 'error-field' : ''">
                           <option ngValue="AL" selected>A/L</option>
                           </select> 
                        <div class="err-lbl" *ngIf="alSubmitted || isInvalidAlField('student_type')">
                              <span class="field-msg error-msg" *ngIf="alApplicantCreateForm.controls.student_type.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>-->
                           <input type="text" class="form-control" disabled value="AL">
                        </div>
                        <div class="form-group col-3">
                           <label>Application No<span class="mandatory">*</span></label>
                           <input type="text" class="form-control form-control-sm ng-untouched ng-pristine ng-valid" formControlName="application_no"
                              [ngClass]="alSubmitted || isInvalidAlField('application_no') ? 'error-field' : ''">
                           <div class="err-lbl" *ngIf="alSubmitted || isInvalidAlField('application_no')">
                              <span class="field-msg error-msg" *ngIf="alApplicantCreateForm.controls.application_no.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Identity No<span class="mandatory">*</span></label>
                           <input type="text" class="form-control form-control-sm ng-untouched ng-pristine ng-valid" [ngClass]="alSubmitted || isInvalidAlField('identity_no') ? 'error-field' : ''" formControlName="identity_no">
                           <div class="err-lbl" *ngIf="alSubmitted || isInvalidAlField('identity_no')">
                              <span class="field-msg error-msg" *ngIf="alApplicantCreateForm.controls.identity_no.errors?.required || alApplicantCreateForm.controls.identity_no.errors?.pattern">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Initials<span class="mandatory">*</span></label>
                           <input type="text" class="form-control form-control-sm ng-untouched ng-pristine ng-valid" formControlName="initials"
                              [ngClass]="alSubmitted || isInvalidAlField('initials') ? 'error-field' : ''">
                           <div class="err-lbl" *ngIf="alSubmitted || isInvalidAlField('initials')">
                              <span class="field-msg error-msg" *ngIf="alApplicantCreateForm.controls.initials.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Surename<span class="mandatory">*</span></label>
                           <input type="text" class="form-control form-control-sm ng-untouched ng-pristine ng-valid" formControlName="surename"
                              [ngClass]="alSubmitted || isInvalidAlField('surename') ? 'error-field' : ''">
                           <div class="err-lbl" *ngIf="alSubmitted || isInvalidAlField('surename')">
                              <span class="field-msg error-msg" *ngIf="alApplicantCreateForm.controls.surename.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Title<span class="mandatory">*</span></label>
                           <select class="form-control" (change)="changeAlTitle($event)">
                           <option value="" selected disabled>Please Select</option>
                           <option value="Mr" >Mr</option>
                           <option value="Ms" >Ms</option>
                           <option value="Mrs" >Mrs</option>
                           <option value="Rev" >Rev</option>
                           <option value="Ven" >Ven</option>
                           </select>
                           <div class="err-lbl" *ngIf="alSubmitted || isInvalidAlField('title')">
                              <span class="field-msg error-msg" *ngIf="alApplicantCreateForm.controls.title.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Gender<span class="mandatory">*</span></label>
                           <select class="form-control" (change)="changeAlGender($event)">
                           <option value="" selected disabled>Please Select</option>
                           <option value="M">Male</option>
                           <option value="F">Female</option>
                           </select>
                           <div class="err-lbl" *ngIf="alSubmitted || isInvalidAlField('gender')">
                              <span class="field-msg error-msg" *ngIf="alApplicantCreateForm.controls.gender.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Ethnicity</label>
                           <select class="form-control" (change)="changeAlEthnicity($event)">
                           <option value="" selected disabled>Please Select</option>
                           <option value="Sinhala" selected>Sinhala</option>
                           <option value="Tamil" selected>Tamil</option>
                           <option value="Hindu" selected>Hindu</option>
                           <option value="Muslim" selected>Muslim</option>
                           <option value="Other" selected>Other</option>
                           </select>
                        </div>
                        <div class="form-group col-3">
                           <label>Address 1<span class="mandatory">*</span></label>
                           <input type="text" class="form-control form-control-sm ng-untouched ng-pristine ng-valid" formControlName="address_1"
                              [ngClass]="alSubmitted || isInvalidAlField('address_1') ? 'error-field' : ''">
                           <div class="err-lbl" *ngIf="alSubmitted || isInvalidAlField('address_1')">
                              <span class="field-msg error-msg" *ngIf="alApplicantCreateForm.controls.address_1.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Address 2</label>
                           <input type="text" class="form-control" formControlName="address_2">
                        </div>
                        <div class="form-group col-3">
                           <label>City<span class="mandatory">*</span></label>
                           <input type="text" class="form-control form-control-sm ng-untouched ng-pristine ng-valid" formControlName="city"
                              [ngClass]="alSubmitted || isInvalidAlField('city') ? 'error-field' : ''">
                           <div class="err-lbl" *ngIf="alSubmitted || isInvalidAlField('city')">
                              <span class="field-msg error-msg" *ngIf="alApplicantCreateForm.controls.city.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>District<span class="mandatory">*</span></label>
                           <select class="form-control" (change)="changeAlDistrict($event)">
                           <option value="" disabled selected>Please Select</option>
                           <option value="Anuradhapura">Anuradhapura</option>
                           <option value="Ampara">Ampara</option>
                           <option value="Badulla">Badulla</option>
                           <option value="Batticaloa">Batticaloa</option>
                           <option value="Colombo">Colombo</option>
                           <option value="Galle">Galle</option>
                           <option value="Gampaha">Gampaha</option>
                           <option value="Hambantota">Hambantota</option>
                           <option value="Jaffna">Jaffna</option>
                           <option value="Kilinochchi">Kilinochchi</option>
                           <option value="Kurunegala">Kurunegala</option>
                           <option value="Kalutara">Kalutara</option>
                           <option value="Kandy">Kandy</option>
                           <option value="Kegalle">Kegalle</option>
                           <option value="Mannar">Mannar</option>
                           <option value="Mullaitivu">Mullaitivu</option>
                           <option value="Matale">Matale</option>
                           <option value="Monaragala">Monaragala</option>
                           <option value="Matara">Matara</option>
                           <option value="Nuwara Eliya">Nuwara Eliya</option>
                           <option value="Polonnaruwa">Polonnaruwa</option>
                           <option value="Puttalam">Puttalam</option>
                           <option value="Ratnapura">Ratnapura</option>
                           <option value="Trincomalee">Trincomalee</option>
                           <option value="Vavuniya">Vavuniya</option>
                           </select>
                           <div class="err-lbl" *ngIf="alSubmitted || isInvalidAlField('district')">
                              <span class="field-msg error-msg" *ngIf="alApplicantCreateForm.controls.district.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Telephone</label>
                           <input type="text" class="form-control form-control-sm ng-untouched ng-pristine ng-valid" [ngClass]="alSubmitted || isInvalidAlField('telephone') ? 'error-field' : ''" formControlName="telephone">
                           <div class="err-lbl" *ngIf="alSubmitted || isInvalidAlField('telephone')">
                              <span class="field-msg error-msg" *ngIf="alApplicantCreateForm.controls.telephone.errors?.required || alApplicantCreateForm.controls.telephone.errors?.minlength || alApplicantCreateForm.controls.telephone.errors?.maxlength">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Mobile</label>
                           <input type="text" class="form-control form-control-sm ng-untouched ng-pristine ng-valid" [ngClass]="alSubmitted || isInvalidAlField('mobile') ? 'error-field' : ''" formControlName="mobile">
                           <div class="err-lbl" *ngIf="alSubmitted || isInvalidAlField('mobile')">
                              <span class="field-msg error-msg" *ngIf="alApplicantCreateForm.controls.mobile.errors?.required || alApplicantCreateForm.controls.mobile.errors?.pattern || alApplicantCreateForm.controls.mobile.errors?.minlength || alApplicantCreateForm.controls.mobile.errors?.maxlength">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>E-mail</label>
                           <input type="email" class="form-control form-control-sm ng-untouched ng-pristine ng-valid" [ngClass]="alSubmitted || isInvalidAlField('email') ? 'error-field' : ''" formControlName="email">
                           <div class="err-lbl" *ngIf="alSubmitted || isInvalidAlField('email')">
                              <span class="field-msg error-msg" *ngIf="alApplicantCreateForm.controls.email.errors?.required || alApplicantCreateForm.controls.email.errors?.pattern">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Preference 1<span class="mandatory">*</span></label>
                           <select title="hint - Filed" class="form-control" (change)="changeAlPreferenceOne($event)">
                           <option value="" disabled selected>Please Select</option>
                           <option value="BST">BST</option>
                           <option value="CTRM">CTRM</option>
                           <option value="MAN">MAN</option>
                           <option value="MEC">MEC</option>
                           <option value="FPT">FPT</option>
                           <option value="BED">BED</option>
                           <option value="IM">IM</option>
                           <option value="SOF">SOF</option>
                           <option value="NET">NET</option>
                           <option value="MMW">MMW</option>
                           <option value="ELT">ELT</option>
                           <option value="FTPT">FTPT</option>
                           <option value="MAPT">MAPT</option>
                           <option value="QS">QS</option>
                           <option value="HM">HM</option>
                           </select>
                           <div class="err-lbl" *ngIf="alSubmitted || isInvalidAlField('preference_1')">
                              <span class="field-msg error-msg" *ngIf="alApplicantCreateForm.controls.preference_1.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Preference 2</label>
                           <select title="hint - Filed" class="form-control" (change)="changeAlPreferenceTwo($event)">
                              <option value="" disabled selected>Please Select</option>
                              <option value="BST">BST</option>
                              <option value="CTRM">CTRM</option>
                              <option value="MAN">MAN</option>
                              <option value="MEC">MEC</option>
                              <option value="FPT">FPT</option>
                              <option value="BED">BED</option>
                              <option value="IM">IM</option>
                              <option value="SOF">SOF</option>
                              <option value="NET">NET</option>
                              <option value="MMW">MMW</option>
                              <option value="ELT">ELT</option>
                              <option value="FTPT">FTPT</option>
                              <option value="MAPT">MAPT</option>
                              <option value="QS">QS</option>
                              <option value="HM">HM</option>
                              </select>
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('preference_2')">
                              <span class="field-msg error-msg" *ngIf="alApplicantCreateForm.controls.preference_2.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                              </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Preference 3</label>
                           <select title="hint - Filed" class="form-control" (change)="changeAlPreferenceThree($event)">
                              <option value="" disabled selected>Please Select</option>
                              <option value="BST">BST</option>
                              <option value="CTRM">CTRM</option>
                              <option value="MAN">MAN</option>
                              <option value="MEC">MEC</option>
                              <option value="FPT">FPT</option>
                              <option value="BED">BED</option>
                              <option value="IM">IM</option>
                              <option value="SOF">SOF</option>
                              <option value="NET">NET</option>
                              <option value="MMW">MMW</option>
                              <option value="ELT">ELT</option>
                              <option value="FTPT">FTPT</option>
                              <option value="MAPT">MAPT</option>
                              <option value="QS">QS</option>
                              <option value="HM">HM</option>
                              </select>
                           <div class="err-lbl" *ngIf="nvqSubmitted || isInvalidNvqField('preference_3')">
                              <span class="field-msg error-msg" *ngIf="alApplicantCreateForm.controls.preference_3.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                              </div>
                        </div>
                        <div class="form-group col-3">
                           <label>A/L Stream<span class="mandatory">*</span></label>
                           <select title="A/L Steam" class="form-control" (change)="changeAlSteam($event)">
                              <option value="" disabled selected>Please Select</option>
                           <option value="Sinhala">Sinhala</option>
                           <option value="Accounting">Accounting</option>
                           <option value="Bio Systems Technology">Bio Systems Technology</option>
                           <option value="Biology">Biology</option>
                           <option value="Buddhist Civilization">Buddhist Civilization</option>
                           <option value="Business Studies">Business Studies</option>
                           <option value="Chemistry">Chemistry</option>
                           <option value="Combined Mathematics">Combined Mathematics</option>
                           <option value="Commerce stream">Commerce stream</option>
                           <option value="Economics">Economics</option>
                           <option value="Engineering Technology">Engineering Technology</option>
                           <option value="Geography">Geography</option>
                           <option value="History">History</option>
                           <option value="Logic">Logic</option>
                           <option value="Music">Music</option>
                           <option value="Physics">Physics</option>
                           <option value="Political Science">Political Science</option>
                           <option value="Science for Technology">Science for Technology</option>
                           <option value="Statistics">Statistics</option>
                           </select>
                           <div class="err-lbl" *ngIf="alSubmitted || isInvalidAlField('stream')">
                              <span class="field-msg error-msg" *ngIf="alApplicantCreateForm.controls.stream.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>A/L Index No<span class="mandatory">*</span></label>
                           <input type="text" class="uppercase form-control form-control-sm ng-untouched ng-pristine ng-valid" formControlName="al_index_no"
                              [ngClass]="alSubmitted || isInvalidAlField('al_index_no') ? 'error-field' : ''">
                           <div class="err-lbl" *ngIf="alSubmitted || isInvalidAlField('al_index_no')">
                              <span class="field-msg error-msg" *ngIf="alApplicantCreateForm.controls.al_index_no.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>Z-Score<span class="mandatory">*</span></label>
                           <input type="text" class="form-control form-control-sm ng-untouched ng-pristine ng-valid" formControlName="z_score"
                              [ngClass]="alSubmitted || isInvalidAlField('z_score') ? 'error-field' : ''">
                           <div class="err-lbl" *ngIf="alSubmitted || isInvalidAlField('z_score')">
                              <span class="field-msg error-msg" *ngIf="alApplicantCreateForm.controls.z_score.errors?.required">
                              <i class="fa fa-times-circle"></i>&nbsp;Invalid
                              </span>
                           </div>
                        </div>
                        <div class="form-group col-3">
                           <label>A/L ICT</label>
                           <input type="text" class="form-control" formControlName="al_ict">
                        </div>
                        <div class="form-group col-3">
                           <label>Comm & Media</label>
                           <input type="text" class="form-control" formControlName="comm_and_media">
                        </div>
                        <div class="form-group col-3">
                           <label>General English</label>
                           <input type="text" class="form-control" formControlName="general_english">
                        </div>
                        <div class="form-group col-3">
                           <label>General Test</label>
                           <input type="text" class="form-control" formControlName="general_common_test">
                        </div>
                        <div class="form-group col-12 d-flex flex-row-reverse">
                           <button type="submit" class="btn btn-success"><i class="fa fa-save"></i>&nbsp; Save Applicant</button>&nbsp;
                           <button class="btn btn-warning" (click)="showAlApplicantCreateForm = false"><i class="fa fa-reply"></i>&nbsp; Cancel</button>
                        </div>
                     </div>
                     </form>
                  </div>
               </div>
            </div>
            <div class="col-md-12 table_outer">
               <div class="row">
                  <table datatable [dtOptions]="dtaOptions" [dtTrigger]="dtaTrigger" class="table table-striped table-bordered row-border hover" id="tblAlApplicantData">
                  <thead>
                     <tr>
                        <th scope="col">Application No</th>
                        <th scope="col">Student Type</th>
                        <th scope="col">Identity Card No</th>
                        <th scope="col">Title</th>
                        <th scope="col">Initials</th>
                        <th scope="col">Surename</th>
                        <th scope="col">Status</th>
                        <th scope="col">Gender</th>
                        <th scope="col">Ethnicity</th>
                        <th scope="col">Address Line 1</th>
                        <th scope="col">Address Line 2</th>
                        <th scope="col">City</th>
                        <th scope="col">District</th>
                        <th scope="col">Telephone</th>
                        <th scope="col">Mobile No</th>
                        <th scope="col">Email</th>
                        <th scope="col">A/L Steam</th>
                        <th scope="col">A/L Index No</th>
                        <th scope="col">Z-Score</th>
                        <th scope="col">Preference 1</th>
                        <th scope="col">Preference 2</th>
                        <th scope="col">Preference 3</th>
                        <th scope="col">A/L ICT</th>
                        <th scope="col">Comm & Media</th>
                        <th scope="col">General English</th>
                        <th scope="col">General Test</th>
                        <!-- <th scope="col">Maths</th> -->
                        <!-- <th scope="col" class="lastColumn"></th> -->
                     </tr>
                  </thead>
                  <tbody>
                     <tr *ngFor="let applicant of alAplicantFilterList">
                        <td>{{applicant.al_details.application_no}}</td>
                        <td>{{applicant.student_type}}</td>
                        <td>{{applicant.identity_no}}</td>
                        <td>{{applicant.title}}</td>
                        <td>{{applicant.initials}}</td>
                        <td>{{applicant.surename}}</td>
                        <td *ngIf="applicant.status === true">Active</td>
                        <td *ngIf="applicant.status === false">Deactive</td>
                        <td>{{applicant.gender}}</td>
                        <td>{{applicant.ethnicity}}</td>
                        <td>{{applicant.address_1}}</td>
                        <td>{{applicant.address_2}}</td>
                        <td>{{applicant.city}}</td>
                        <td>{{applicant.district}}</td>
                        <td>{{applicant.telephone}}</td>
                        <td>{{applicant.mobile}}</td>
                        <td>{{applicant.email}}</td>
                        <td>{{applicant.al_details.stream}}</td>
                        <td>{{applicant.al_details.al_index_no}}</td>
                        <td>{{applicant.al_details.z_score}}</td>
                        <td>{{applicant.preference_1}}</td>
                        <td>{{applicant.preference_2}}</td>
                        <td>{{applicant.preference_3}}</td>
                        <td>{{applicant.al_details.al_ict}}</td>
                        <td>{{applicant.al_details.comm_and_media}}</td>
                        <td>{{applicant.al_details.general_english}}</td>
                        <td>{{applicant.al_details.general_common_test}}</td>
                        <!-- <td>{{applicant.al_details.general_common_test}}</td> -->
                        <!-- <td class="lastColumn">
                           <button class="btn btn-danger tableDelete" (click)="deleteApplicant(applicant.application_no)"><i class="far fa-trash-alt"></i></button>
                           <button class="btn btn-warning tableEdit" (click)="editApplicant(applicant)" data-toggle="modal" data-target="#degreeModal"><i class="far fa-edit"></i></button>
                           </td> -->
                     </tr>
                  </tbody>
                  </table>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>

<div class="modal fade" id="nvqApplicantEditModal" tabindex="-1" role="dialog" aria-labelledby="nvqApplicantEditModalModalLabel" aria-hidden="true">
   <div class="modal-dialog" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h5 class="modal-title">Edit Details - {{modalTitle}}</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
         </div>
         <div class="modal-body">
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-primary" (click)="updateNvqApplicant()">Update Applicant</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
         </div>
      </div>
   </div>
</div>

<ng-template #customLoadingTemplate>
   <div class="custom-class">
       <h3>
           Please Wait...
       </h3>
   </div>
</ng-template>
<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }" [template]="customLoadingTemplate"></ngx-loading>